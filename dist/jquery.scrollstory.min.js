/*
 *  ScrollStory - v0.3.0
 *  A jQuery plugin for building simple, scroll-based pages and interactions.
 *  https://github.com/sjwilliams/scrollstory
 *
 *  Made by Josh Williams
 *  Under MIT License
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery",window,document,void 0],a):a(jQuery,window,document,void 0)}(function(a,b){function c(c,f){this.element=c,this.$element=a(c),this.$window=a(b),this.options=a.extend({},e,f),this._defaults=e,this._name=d,this.init()}var d="scrollStory",e={content:null,contentSelector:".story",keyboard:!0,scrollOffset:0,triggerOffset:0};c.prototype={init:function(){this.$element.addClass("scrollStoryContainer"),this.items=[],this.itemsById={},this.categories=[],this.tags=[],this.activeIndex=0,this.isActive=!1,this.updateViewport(),this.addItems(this.options.content),console.log(this.getItems())},updateViewport:function(){var a=this.$window.width(),b=this.$window.height(),c=this.$window.scrollTop(),d=this.$window.scrollLeft(),e=b+c,f=d+a;this.viewport={width:a,height:b,top:c,left:d,bottom:e,right:f}},getItems:function(){return this.items},addItems:function(b){b instanceof jQuery?this._prepItemsFromSelection(b):"string"==typeof b?this._prepItemsFromSelection(this.$element.find(b)):a.isArray(b)?this._prepItemsFromData(b):this._prepItemsFromSelection(this.$element.find(this.options.contentSelector))},_prepItemsFromSelection:function(b){var c=this;b.each(function(){c._addItem({},a(this))})},_prepItemsFromData:function(b){var c=this,d=this.options.contentSelector.replace(/\./g,""),e=a();b.forEach(function(b){var f=a('<div class="'+d+'"></div>');c._addItem(b,f),e=e.add(f)}),this.$element.append(e)},_addItem:function(b,c){var d={index:this.items.length,id:c.attr("id")?c.attr("id"):b.id?b.id:"story-"+this.items.length,domData:a.extend({},b,c.data()),category:b.category,tags:b.tags||[],el:c,width:c.width(),height:c.height(),nextItem:!1,active:!1,filtered:!1,scrollOffset:!1,triggerOffset:!1,inViewport:!1};this.items.push(d)}},a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new c(this,b))})}});